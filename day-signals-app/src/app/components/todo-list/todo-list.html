<div class="todo-container">
  <h1>üìù Todo List with Signals</h1>
  <p class="subtitle">State management made simple</p>

  <div class="todo-app">
    <div class="todo-header">
      <div class="stats">
        <div class="stat">
          <span class="number">{{ totalCount() }}</span>
          <span class="label">Total</span>
        </div>
        <div class="stat active">
          <span class="number">{{ activeCount() }}</span>
          <span class="label">Active</span>
        </div>
        <div class="stat completed">
          <span class="number">{{ completedCount() }}</span>
          <span class="label">Done</span>
        </div>
      </div>

      <div class="add-todo">
        <input 
          type="text" 
          [value]="newTodoText()" 
          (input)="updateNewTodoText($any($event.target).value)"
          (keyup.enter)="addTodo()"
          placeholder="What needs to be done?"
          class="todo-input"
        />
        <button (click)="addTodo()" [disabled]="!newTodoText().trim()">Add</button>
      </div>

      <div class="filters">
        <button 
          [class.active]="filter() === 'all'" 
          (click)="setFilter('all')">
          All
        </button>
        <button 
          [class.active]="filter() === 'active'" 
          (click)="setFilter('active')">
          Active
        </button>
        <button 
          [class.active]="filter() === 'completed'" 
          (click)="setFilter('completed')">
          Completed
        </button>
      </div>
    </div>

    <div class="todo-list">
      @for (todo of filteredTodos(); track todo.id) {
        <div class="todo-item" [class.completed]="todo.completed">
          <input 
            type="checkbox" 
            [checked]="todo.completed" 
            (change)="toggleTodo(todo.id)"
            class="todo-checkbox"
          />
          <span class="todo-text">{{ todo.text }}</span>
          <button (click)="deleteTodo(todo.id)" class="delete-btn">√ó</button>
        </div>
      } @empty {
        <div class="empty-state">
          <p>üéâ No {{ filter() === 'all' ? 'todos' : filter() }} todos!</p>
        </div>
      }
    </div>

    <div class="todo-footer">
      @if (allCompleted() && totalCount() > 0) {
        <div class="all-done">‚úÖ All tasks completed!</div>
      }
      @if (completedCount() > 0) {
        <button (click)="clearCompleted()" class="clear-btn">
          Clear {{ completedCount() }} completed
        </button>
      }
      @if (totalCount() > 1) {
        <button (click)="toggleAll()" class="toggle-all">
          {{ allCompleted() ? 'Mark all incomplete' : 'Mark all complete' }}
        </button>
      }
    </div>
  </div>

  <div class="code-section">
    <h3>Key Computed Signals</h3>
    <pre><code>todos = signal&lt;Todo[]>([]);
filter = signal&lt;'all' | 'active' | 'completed'>('all');

filteredTodos = computed(() => &#123;
  const todos = this.todos();
  const filterType = this.filter();
  if (filterType === 'active') return todos.filter(t => !t.completed);
  if (filterType === 'completed') return todos.filter(t => t.completed);
  return todos;
&#125;);

activeCount = computed(() => 
  this.todos().filter(t => !t.completed).length
);</code></pre>
  </div>
</div>
